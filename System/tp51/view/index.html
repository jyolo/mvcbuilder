<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MvcBuilder</title>
    <link rel="stylesheet" href="/static/plugin/layui/css/layui.css">

</head>
<body class="body">

<div class="layui-layout">
    <fieldset class="layui-elem-field layui-field-title" >
        <legend>模型管理</legend>
        <blockquote class="layui-elem-quote">
            <form class="layui-form layui-form-pane" action="" method="post" lay-filter="search">
                <div class="layui-form-item">

                    <div class="layui-inline">

                        <button class="layui-btn link" data-type="page" data-url="{:url('/mvcbuilder/build')}" >
                            生成MVC
                        </button>
                    </div>
                </div>
            </form>

        </blockquote>

    </fieldset>

    <form class="layui-form layui-form-pane" action="" method="post" lay-filter="list-table">
        <blockquote class="layui-elem-quote layui-quote-nm">
            <button class="layui-btn" lay-submit data-url="{:url('/mvcbuilder/pdel')}" data-call-back="reload_table">
                批量删除
            </button>


            <button class="layui-btn link" data-type="page" data-url="{:url('/mvcbuilder/add')}" style="float: right">
                添加
            </button>
        </blockquote>

        <div class="layui-form">
            {:CMaker("table")->filter("models")->cols([
            ['type'=>'checkbox'] ,
            ['field' => "id",'title' => 'id','sort' => true ],
            ['field' => 'models_name','title' => '模型名称','sort' => true ] ,
            ['field' => 'table_name','title' => '模型表','sort' => true ] ,
            ['field' => 'add_time','title' => '添加时间','sort' => true ] ,
            ['toolbar' => '#actionTpl' ,'title' => '操作','fixed' => 'right']
            ])->page(true)->limit(10)->url(url('/mvcbuilder/index'))->render()}

            <script type="text/html" id="actionTpl" lay-filter="actionbar">
                <div class="layui-btn-group">
                    <span data-url="{:url('/mvcbuilder/edit')}" data-field="id" class="layui-btn layui-btn-sm" lay-event="edit">编辑</span>
                    <span data-url="{:url('/mvcbuilder/del')}"  class="layui-btn layui-btn-sm layui-btn-danger" lay-event="action" confirm-msg="删除已生成的`数据表`以及表中数据？" confirm-type="del">删除</span>
                </div>
            </script>
        </div>

        <blockquote class="layui-elem-quote layui-quote-nm">
            <button class="layui-btn" lay-submit data-url="{:url('/mvcbuilder/pdel')}" data-call-back="reload_table">
                批量删除
            </button>


            <button class="layui-btn link" data-type="page" data-url="{:url('/mvcbuilder/add')}" style="float: right">
                添加
            </button>
        </blockquote>
    </form>
</div>

<script type="text/javascript" src="/static/plugin/layui/layui.js"></script>
<script type="text/javascript" src="/static/plugin/lay-extend-module/config.js"></script>



{:CMakerJs('all')}



</body>
</html>